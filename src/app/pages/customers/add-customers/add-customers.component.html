<!-- Page Loader -->
<app-page-loader [isLoading]="isLoading"></app-page-loader>

<div class="add-customer-container">
    <h2>Add New Customer</h2>

    <!-- Reactive Form -->
    <form [formGroup]="customerForm" (ngSubmit)="addCustomer()">
        <div class="form-grid">
            <!-- First Name -->
            <mat-form-field class="form-field" appearance="fill">
                <mat-label>First Name</mat-label>
                <input matInput formControlName="firstName" placeholder="Enter first name" required />
                <mat-error
                    *ngIf="customerForm.get('firstName')?.hasError('required') && customerForm.get('firstName')?.touched">
                    First Name is required
                </mat-error>
            </mat-form-field>

            <!-- Last Name -->
            <mat-form-field class="form-field" appearance="fill">
                <mat-label>Last Name</mat-label>
                <input matInput formControlName="lastName" placeholder="Enter last name" required />
                <mat-error
                    *ngIf="customerForm.get('lastName')?.hasError('required') && customerForm.get('lastName')?.touched">
                    Last Name is required
                </mat-error>
            </mat-form-field>

            <!-- Email -->
            <mat-form-field class="form-field" appearance="fill">
                <mat-label>Email</mat-label>
                <input matInput formControlName="email" type="email" placeholder="Enter email address" required />
                <mat-error
                    *ngIf="customerForm.get('email')?.hasError('required') && customerForm.get('email')?.touched">
                    Email is required
                </mat-error>
                <mat-error *ngIf="customerForm.get('email')?.hasError('email') && customerForm.get('email')?.touched">
                    Please enter a valid email
                </mat-error>
            </mat-form-field>

            <!-- Phone Number -->
            <mat-form-field class="form-field" appearance="fill">
                <mat-label>Phone Number</mat-label>
                <input matInput formControlName="phone" type="tel" placeholder="Enter phone number" required />
                <mat-error
                    *ngIf="customerForm.get('phone')?.hasError('required') && customerForm.get('phone')?.touched">
                    Phone Number is required
                </mat-error>
            </mat-form-field>

            <!-- Address -->
            <mat-form-field class="form-field full-width" appearance="fill">
                <mat-label>Address</mat-label>
                <textarea matInput formControlName="address" rows="4" placeholder="Enter address" required></textarea>
                <mat-error
                    *ngIf="customerForm.get('address')?.hasError('required') && customerForm.get('address')?.touched">
                    Address is required
                </mat-error>
            </mat-form-field>
        </div>

        <!-- Action Buttons -->
        <div class="action-buttons">
            <button mat-raised-button color="warn" type="button" (click)="cancel()">Cancel</button>
            <button mat-raised-button color="primary" type="submit" [disabled]="customerForm.invalid">Add
                Customer</button>
        </div>
    </form>
</div>